{"version":3,"sources":["components/header/index.js","components/header/header.js","components/selectCurrency/selectItem/index.js","components/selectCurrency/selectItem/selectItem.js","components/selectCurrency/selectBody/index.js","components/selectCurrency/selectBody/selectBody.js","components/selectCurrency/index.js","components/selectCurrency/selectCurrency.js","components/inputCurrency/index.js","components/inputCurrency/inputCurrency.js","components/row/index.js","components/row/row.js","components/app/app.js","services/currencyService.js","components/app/index.js","index.js"],"names":["Header","SelectItem","onSelectCurrency","currency","srcImg","className","onClick","src","alt","SelectBody","listCurrecies","numberField","listSelectItems","forEach","push","SelectCurrency","state","selectBodyVisible","togleSelectBody","setState","renderSelectBody","props","item","this","Component","InputCurrency","value","inputValue","maxLength","onChange","e","reg","target","match","split","length","slice","join","checkInputData","onChangeInput","Row","rates","RUB","res","getCurrenciec","a","fetch","_apiBase","response","ok","Error","status","json","data","Valute","getRates","Value","toFixed","USD","EUR","GBP","then","App","firstСurrency","firstInputFieldValue","secondСurrency","secondInputFieldValue","changeInput","inputField","result","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"iZACeA,ECGA,WACX,OACI,qDCLOC,G,MCGI,SAAC,GAA0C,IAAzCC,EAAwC,EAAxCA,iBAAkBC,EAAsB,EAAtBA,SAAUC,EAAY,EAAZA,OAC7C,OACI,sBAAKC,UAAU,eACXC,QAAS,kBAAMJ,EAAiBC,IADpC,UAEI,+BAAOA,IACP,qBAAKI,IAAKH,EAAQI,IAAI,cCRnBC,G,MCII,SAAC,GAAoD,IAAnDC,EAAkD,EAAlDA,cAAeR,EAAmC,EAAnCA,iBAAkBS,EAAiB,EAAjBA,YAE5CC,EAAkB,GAWxB,OAVAF,EAAcG,SAAQ,SAAAV,GAClBS,EAAgBE,KACZ,cAAC,EAAD,CAEIX,SAAUA,EACVC,OAAM,cAASD,EAAT,QACND,iBAAkB,kBAAMA,EAAiBC,EAAUQ,KAH9CR,OAQb,qBAAKE,UAAU,eAAf,SACKO,MCnBEG,G,kNCMXC,MAAQ,CACJC,mBAAmB,G,EAGvBC,gBAAkB,WACd,EAAKC,SAAS,CAACF,mBAAqB,EAAKD,MAAMC,qB,EAGnDG,iBAAmB,WACf,GAAI,EAAKJ,MAAMC,kBAAmB,CAC9B,IAAOd,EAAY,EAAKkB,MAAjBlB,SACDO,EAAgB,GAQtB,MANA,CAAC,MAAO,MAAO,MAAO,OAAOG,SAAQ,SAAAS,GAC7BA,IAASnB,GACTO,EAAcI,KAAKQ,MAIpB,cAAC,EAAD,CACKZ,cAAeA,EACfR,iBAAkB,EAAKmB,MAAMnB,iBAC7BS,YAAa,EAAKU,MAAMV,gB,4CAI5C,WACI,IAAOR,EAAYoB,KAAKF,MAAjBlB,SACDC,EAAM,cAAUD,EAAV,QACZ,OACI,sBAAKE,UAAU,SACXC,QAASiB,KAAKL,gBADlB,UAEI,sBAAKb,UAAU,iBAAf,UACI,sBAAMA,UAAU,kBAAhB,SAAmCF,IACnC,qBAAKI,IAAKH,EAAQI,IAAI,YAEzBe,KAAKH,0B,GAtCsBI,cCJ7BC,G,MCGO,SAACJ,GAoBnB,OACI,uBACIK,MAAOL,EAAMM,WACbC,UAAU,KACVC,SAAU,SAACC,IAtBI,SAACA,GACpB,IAAMC,EAAM,mBACNL,EAAQI,EAAEE,OAAON,MAClBA,EAAMO,MAAMF,GAIbL,EAAMQ,MAAM,KAAKC,OAAS,EAC1BL,EAAEE,OAAON,MAAQA,EAAMU,MAAM,GAAG,GACf,MAAVV,EACPI,EAAEE,OAAON,MAAQ,KACVA,EAAMO,MAAM,aACnBH,EAAEE,OAAON,MAAQ,IAEjBI,EAAEE,OAAON,MAAQA,EAAMO,MAAMF,GAAKM,KAAK,IAVvCP,EAAEE,OAAON,MAAQ,GAmBbY,CAAeR,GACfT,EAAMkB,cAAclB,EAAMV,YAAamB,EAAEE,OAAON,YC7BjDc,G,MCKH,SAACnB,GAET,OACI,sBAAKhB,UAAU,MAAf,UACI,cAAC,EAAD,CACIH,iBAAkBmB,EAAMnB,iBACxBC,SAAUkB,EAAMlB,SAChBQ,YAAaU,EAAMV,cACvB,cAAC,EAAD,CACI4B,cAAelB,EAAMkB,cACrB5B,YAAaU,EAAMV,YACnBgB,WAAYN,EAAMM,kBCV5Bc,G,MAAQ,CACVC,IAAK,IAGHC,GADkB,ICRpB,aAAe,IAAD,gCAIdC,cAJc,sBAIE,gCAAAC,EAAA,sEACYC,MAAM,EAAKC,UADvB,WACNC,EADM,QAGEC,GAHF,sBAIF,IAAIC,MAAM,0BAAmB,EAAKH,UAAxB,qBACAC,EAASG,SALjB,uBAQOH,EAASI,OARhB,cAQNC,EARM,OASNV,EAAMU,EAAKC,OATL,kBAULX,GAVK,4CAHZpB,KAAKwB,SAAW,+CDQIH,gBACtBW,EAAQ,uCAAG,WAAOF,GAAP,SAAAR,EAAA,sEACKQ,EAAI,IAAQG,MAAMC,QAAQ,GAD/B,cACbhB,EAAMiB,IADO,gBAEKL,EAAI,IAAQG,MAAMC,QAAQ,GAF/B,cAEbhB,EAAMkB,IAFO,gBAGKN,EAAI,IAAQG,MAAMC,QAAQ,GAH/B,OAGbhB,EAAMmB,IAHO,kDAAH,sDAKdjB,EAAIkB,KAAKN,G,IEhBMO,E,4MFoBX9C,MAAQ,CACJ+C,qBAAgB,MAChBC,qBAAsB,GACtBC,sBAAiB,MACjBC,sBAAuB,I,EAG3BhE,iB,uCAAmB,WAAOC,EAAUQ,GAAjB,SAAAkC,EAAA,sEACT,EAAK1B,UAAS,WAChB,MAAoB,UAAhBR,EACO,CACHoD,qBAAgB5D,GAGb,CACH8D,sBAAiB9D,MARd,uBAYT,EAAKgE,YAAY,QAAS,EAAKnD,MAAMgD,sBAZ5B,2C,0DAenBG,YAAc,SAACC,EAAY1C,GACvB,GAAc,KAAVA,EACA,EAAKP,UAAS,WACV,MAAO,CACH6C,qBAAsB,GACtBE,sBAAuB,YAG7B,GAAmB,UAAfE,EAAwB,CAC9B,IAAMC,GAAU3C,EAAQe,EAAM,EAAKzB,MAAM+C,oBAAiBtB,EAAM,EAAKzB,MAAMiD,sBAAiBR,QAAQ,GACpG,EAAKtC,UAAS,WACV,MAAO,CACH6C,qBAAsBtC,EACtBwC,sBAAuBG,UAG5B,CACH,IAAMA,GAAU3C,EAAQe,EAAM,EAAKzB,MAAMiD,qBAAkBxB,EAAM,EAAKzB,MAAM+C,qBAAgBN,QAAQ,GACpG,EAAKtC,UAAS,WACV,MAAO,CACH6C,qBAAsBK,EACtBH,sBAAuBxC,Q,4CAMvC,WAEI,OACI,sBAAKrB,UAAU,MAAf,UACI,cAAC,EAAD,IACA,cAAC,EAAD,CACIH,iBAAkBqB,KAAKrB,iBACvBqC,cAAehB,KAAK4C,YACpBhE,SAAUoB,KAAKP,MAAM+C,mBACrBpD,YAAa,QACbgB,WAAYJ,KAAKP,MAAMgD,uBAC3B,cAAC,EAAD,CACI9D,iBAAkBqB,KAAKrB,iBACvBqC,cAAehB,KAAK4C,YACpBhE,SAAUoB,KAAKP,MAAMiD,oBACrBtD,YAAa,SACbgB,WAAYJ,KAAKP,MAAMkD,+B,GAlEV1C,aGdjC8C,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,W","file":"static/js/main.3bbc52ce.chunk.js","sourcesContent":["import Header from \"./header\";\r\nexport default Header;","import React from 'react';\r\n\r\nimport './header.css';\r\n\r\nconst Header = () => {\r\n    return (\r\n        <h1>Currency Converter</h1>\r\n    )\r\n}\r\n\r\nexport default Header;","import SelectItem from \"./selectItem\";\r\nexport default SelectItem;","import React from 'react';\r\n\r\nimport './selectItem.css';\r\n\r\nconst SelectItem = ({onSelectCurrency, currency, srcImg}) => {\r\n    return (\r\n        <div className='select__item'\r\n            onClick={() => onSelectCurrency(currency)}>\r\n            <span>{currency}</span>\r\n            <img src={srcImg} alt='icon'></img>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default SelectItem;","import SelectBody from \"./selectBody\";\r\nexport default SelectBody;","import React from 'react';\r\nimport SelectItem from '../selectItem';\r\n\r\nimport './selectBody.css';\r\n\r\nconst SelectBody = ({listCurrecies, onSelectCurrency, numberField}) => {\r\n\r\n    const listSelectItems = [];\r\n    listCurrecies.forEach(currency => {\r\n        listSelectItems.push(\r\n            <SelectItem\r\n                key={currency}\r\n                currency={currency}\r\n                srcImg={`img/${currency}.jpg`}\r\n                onSelectCurrency={() => onSelectCurrency(currency, numberField)}/>\r\n        )   \r\n    });\r\n\r\n    return (\r\n        <div className='select__body'>\r\n            {listSelectItems}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default SelectBody;","import SelectCurrency from \"./selectCurrency\";\r\nexport default SelectCurrency;","import React, {Component} from 'react';\r\nimport SelectBody from './selectBody';\r\n\r\nimport './selectCurrency.css'\r\n\r\nexport default class SelectCurrency extends Component {\r\n\r\n    state = {\r\n        selectBodyVisible: false,\r\n    }\r\n\r\n    togleSelectBody = () => {\r\n        this.setState({selectBodyVisible : !this.state.selectBodyVisible});\r\n    }\r\n\r\n    renderSelectBody = () => {\r\n        if (this.state.selectBodyVisible) {\r\n            const {currency} = this.props;\r\n            const listCurrecies = [];\r\n            \r\n            ['RUB', 'USD', 'EUR', 'GBP'].forEach(item => {\r\n                if (item !== currency) {\r\n                    listCurrecies.push(item)\r\n                }\r\n            }) \r\n\r\n            return <SelectBody\r\n                        listCurrecies={listCurrecies}\r\n                        onSelectCurrency={this.props.onSelectCurrency}\r\n                        numberField={this.props.numberField}/> \r\n        }\r\n    }\r\n\r\n    render() {\r\n        const {currency} = this.props;\r\n        const srcImg = `img/${currency}.jpg`;\r\n        return (\r\n            <div className='select'\r\n                onClick={this.togleSelectBody}>\r\n                <div className='select__header'>\r\n                    <span className='select__current'>{currency}</span>\r\n                    <img src={srcImg} alt='icon'></img>\r\n                </div>\r\n                {this.renderSelectBody()}\r\n            </div>\r\n        )\r\n    }\r\n}","import InputCurrency from \"./inputCurrency\";\r\nexport default InputCurrency;","import React from 'react';\r\n\r\nimport './inputCurrency.css'\r\n\r\nconst InputCurrency = (props) => {\r\n    \r\n    const checkInputData = (e) => {\r\n        const reg = /[0-9]*\\.?[0-9]*/g;\r\n        const value = e.target.value;\r\n        if (!value.match(reg)) {\r\n            e.target.value = '';\r\n            return;\r\n        }\r\n        if (value.split('.').length > 2) {\r\n            e.target.value = value.slice(0,-1);\r\n        } else if (value === '.') {\r\n            e.target.value = '0.'\r\n        } else if (value.match(/^0+[0-9]/g)) {\r\n            e.target.value = '0'\r\n        } else {\r\n            e.target.value = value.match(reg).join('');\r\n        } \r\n    }\r\n\r\n    return (\r\n        <input\r\n            value={props.inputValue}\r\n            maxLength='10'\r\n            onChange={(e) => {\r\n                checkInputData(e);\r\n                props.onChangeInput(props.numberField, e.target.value)\r\n            }}\r\n            \r\n            ></input>\r\n    )\r\n}\r\n\r\nexport default InputCurrency;","import Row from \"./row\";\r\nexport default Row;","import React from 'react';\r\nimport SelectCurrency from '../selectCurrency';\r\nimport InputCurrency from '../inputCurrency';\r\n\r\nimport './row.css'\r\n\r\nconst Row = (props) => {\r\n\r\n    return (\r\n        <div className='row'>\r\n            <SelectCurrency\r\n                onSelectCurrency={props.onSelectCurrency}\r\n                currency={props.currency}\r\n                numberField={props.numberField}/>\r\n            <InputCurrency\r\n                onChangeInput={props.onChangeInput}\r\n                numberField={props.numberField}\r\n                inputValue={props.inputValue}/>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Row;","import React, {Component} from 'react';\r\nimport Header from '../header';\r\nimport Row from '../row';\r\nimport './app.css';\r\n\r\nimport CurrencyService from '../../services/currencyService';\r\n\r\nconst rates = {\r\n    RUB: 1\r\n};\r\nconst currencyService = new CurrencyService();\r\nconst res = currencyService.getCurrenciec();\r\nconst getRates = async (data) => {\r\n    rates.USD = await data['USD'].Value.toFixed(2);\r\n    rates.EUR = await data['EUR'].Value.toFixed(2);\r\n    rates.GBP = await data['GBP'].Value.toFixed(2);\r\n}\r\nres.then(getRates)\r\n\r\n\r\nexport default class App extends Component {\r\n    state = {\r\n        firstСurrency : 'RUB',\r\n        firstInputFieldValue: '',\r\n        secondСurrency : 'USD',\r\n        secondInputFieldValue: ''\r\n    }\r\n\r\n    onSelectCurrency = async (currency, numberField) => {\r\n        await this.setState(() => {\r\n            if (numberField === 'first') {\r\n                return {\r\n                    firstСurrency : currency\r\n                }\r\n            } else {\r\n                return {\r\n                    secondСurrency : currency\r\n                }\r\n            }\r\n        })\r\n        await this.changeInput('first', this.state.firstInputFieldValue);\r\n    }\r\n\r\n    changeInput = (inputField, value) => {\r\n        if (value === '') {\r\n            this.setState(() => {\r\n                return {\r\n                    firstInputFieldValue: '',\r\n                    secondInputFieldValue: ''\r\n                }\r\n            })\r\n        }else if (inputField === 'first') {\r\n            const result = (value * rates[this.state.firstСurrency] / rates[this.state.secondСurrency]).toFixed(2);\r\n            this.setState(() => {\r\n                return {\r\n                    firstInputFieldValue: value,\r\n                    secondInputFieldValue: result\r\n                }\r\n            })\r\n        } else {\r\n            const result = (value * rates[this.state.secondСurrency] / rates[this.state.firstСurrency]).toFixed(2);\r\n            this.setState(() => {\r\n                return {\r\n                    firstInputFieldValue: result,\r\n                    secondInputFieldValue: value\r\n                }\r\n            })\r\n        }\r\n    }\r\n\r\n    render () {\r\n\r\n        return (\r\n            <div className='app'>\r\n                <Header/>\r\n                <Row\r\n                    onSelectCurrency={this.onSelectCurrency}\r\n                    onChangeInput={this.changeInput}\r\n                    currency={this.state.firstСurrency}\r\n                    numberField={'first'}\r\n                    inputValue={this.state.firstInputFieldValue}/>\r\n                <Row\r\n                    onSelectCurrency={this.onSelectCurrency}\r\n                    onChangeInput={this.changeInput}\r\n                    currency={this.state.secondСurrency}\r\n                    numberField={'second'}\r\n                    inputValue={this.state.secondInputFieldValue}/>\r\n            </div>\r\n        )\r\n    }\r\n}","\r\nexport default class CurrencyService {\r\n    constructor() {\r\n        this._apiBase = 'https://www.cbr-xml-daily.ru/daily_json.js';\r\n    }\r\n\r\n    getCurrenciec = async () => {\r\n        const response =  await fetch(this._apiBase);\r\n\r\n        if (!response.ok) {\r\n            throw new Error(`Could not fetch ${this._apiBase}` +\r\n              `, received ${response.status}`);\r\n        }\r\n\r\n        const data = await response.json();\r\n        const res = data.Valute;\r\n        return res;\r\n    }\r\n}","import App from \"./app\";\r\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/app'\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}