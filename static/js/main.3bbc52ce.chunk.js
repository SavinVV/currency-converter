(this["webpackJsonpcurrency-converter"]=this["webpackJsonpcurrency-converter"]||[]).push([[0],[,,,,,,,,,,,,,,function(e,t,n){},,function(e,t,n){},,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var r=n(1),c=n.n(r),u=n(9),s=n.n(u),a=(n(14),n(3)),i=n(5),o=n(7),l=n(6),d=n(2),f=n.n(d),p=n(4),h=(n(16),n(0)),j=function(){return Object(h.jsx)("h1",{children:"Currency Converter"})},b=(n(18),function(e){var t=e.onSelectCurrency,n=e.currency,r=e.srcImg;return Object(h.jsxs)("div",{className:"select__item",onClick:function(){return t(n)},children:[Object(h.jsx)("span",{children:n}),Object(h.jsx)("img",{src:r,alt:"icon"})]})}),y=(n(19),function(e){var t=e.listCurrecies,n=e.onSelectCurrency,r=e.numberField,c=[];return t.forEach((function(e){c.push(Object(h.jsx)(b,{currency:e,srcImg:"img/".concat(e,".jpg"),onSelectCurrency:function(){return n(e,r)}},e))})),Object(h.jsx)("div",{className:"select__body",children:c})}),v=(n(20),function(e){Object(o.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(a.a)(this,n);for(var r=arguments.length,c=new Array(r),u=0;u<r;u++)c[u]=arguments[u];return(e=t.call.apply(t,[this].concat(c))).state={selectBodyVisible:!1},e.togleSelectBody=function(){e.setState({selectBodyVisible:!e.state.selectBodyVisible})},e.renderSelectBody=function(){if(e.state.selectBodyVisible){var t=e.props.currency,n=[];return["RUB","USD","EUR","GBP"].forEach((function(e){e!==t&&n.push(e)})),Object(h.jsx)(y,{listCurrecies:n,onSelectCurrency:e.props.onSelectCurrency,numberField:e.props.numberField})}},e}return Object(i.a)(n,[{key:"render",value:function(){var e=this.props.currency,t="img/".concat(e,".jpg");return Object(h.jsxs)("div",{className:"select",onClick:this.togleSelectBody,children:[Object(h.jsxs)("div",{className:"select__header",children:[Object(h.jsx)("span",{className:"select__current",children:e}),Object(h.jsx)("img",{src:t,alt:"icon"})]}),this.renderSelectBody()]})}}]),n}(r.Component)),x=(n(21),function(e){return Object(h.jsx)("input",{value:e.inputValue,maxLength:"10",onChange:function(t){!function(e){var t=/[0-9]*\.?[0-9]*/g,n=e.target.value;n.match(t)?n.split(".").length>2?e.target.value=n.slice(0,-1):"."===n?e.target.value="0.":n.match(/^0+[0-9]/g)?e.target.value="0":e.target.value=n.match(t).join(""):e.target.value=""}(t),e.onChangeInput(e.numberField,t.target.value)}})}),g=(n(22),function(e){return Object(h.jsxs)("div",{className:"row",children:[Object(h.jsx)(v,{onSelectCurrency:e.onSelectCurrency,currency:e.currency,numberField:e.numberField}),Object(h.jsx)(x,{onChangeInput:e.onChangeInput,numberField:e.numberField,inputValue:e.inputValue})]})}),m=(n(23),{RUB:1}),O=(new function e(){var t=this;Object(a.a)(this,e),this.getCurrenciec=Object(p.a)(f.a.mark((function e(){var n,r,c;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t._apiBase);case 2:if((n=e.sent).ok){e.next=5;break}throw new Error("Could not fetch ".concat(t._apiBase)+", received ".concat(n.status));case 5:return e.next=7,n.json();case 7:return r=e.sent,c=r.Valute,e.abrupt("return",c);case 10:case"end":return e.stop()}}),e)}))),this._apiBase="https://www.cbr-xml-daily.ru/daily_json.js"}).getCurrenciec(),C=function(){var e=Object(p.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.USD.Value.toFixed(2);case 2:return m.USD=e.sent,e.next=5,t.EUR.Value.toFixed(2);case 5:return m.EUR=e.sent,e.next=8,t.GBP.Value.toFixed(2);case 8:m.GBP=e.sent;case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();O.then(C);var F=function(e){Object(o.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(a.a)(this,n);for(var r=arguments.length,c=new Array(r),u=0;u<r;u++)c[u]=arguments[u];return(e=t.call.apply(t,[this].concat(c))).state={"first\u0421urrency":"RUB",firstInputFieldValue:"","second\u0421urrency":"USD",secondInputFieldValue:""},e.onSelectCurrency=function(){var t=Object(p.a)(f.a.mark((function t(n,r){return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState((function(){return"first"===r?{"first\u0421urrency":n}:{"second\u0421urrency":n}}));case 2:return t.next=4,e.changeInput("first",e.state.firstInputFieldValue);case 4:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),e.changeInput=function(t,n){if(""===n)e.setState((function(){return{firstInputFieldValue:"",secondInputFieldValue:""}}));else if("first"===t){var r=(n*m[e.state.first\u0421urrency]/m[e.state.second\u0421urrency]).toFixed(2);e.setState((function(){return{firstInputFieldValue:n,secondInputFieldValue:r}}))}else{var c=(n*m[e.state.second\u0421urrency]/m[e.state.first\u0421urrency]).toFixed(2);e.setState((function(){return{firstInputFieldValue:c,secondInputFieldValue:n}}))}},e}return Object(i.a)(n,[{key:"render",value:function(){return Object(h.jsxs)("div",{className:"app",children:[Object(h.jsx)(j,{}),Object(h.jsx)(g,{onSelectCurrency:this.onSelectCurrency,onChangeInput:this.changeInput,currency:this.state.first\u0421urrency,numberField:"first",inputValue:this.state.firstInputFieldValue}),Object(h.jsx)(g,{onSelectCurrency:this.onSelectCurrency,onChangeInput:this.changeInput,currency:this.state.second\u0421urrency,numberField:"second",inputValue:this.state.secondInputFieldValue})]})}}]),n}(r.Component);s.a.render(Object(h.jsx)(c.a.StrictMode,{children:Object(h.jsx)(F,{})}),document.getElementById("root"))}],[[24,1,2]]]);
//# sourceMappingURL=main.3bbc52ce.chunk.js.map